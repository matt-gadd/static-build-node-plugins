"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ModuleDependency = require("webpack/lib/dependencies/ModuleDependency");
const webpackMissingModule = require("webpack/lib/dependencies/WebpackMissingModule");
/**
 * A custom Webpack dependency used to inject an arbitrary `require` to the beginning of the target source.
 */
class InjectedModuleDependency extends ModuleDependency {
}
exports.default = InjectedModuleDependency;
/**
 * A custom template for rendering injected `require`s to the beginning of the target source.
 */
InjectedModuleDependency.Template = class {
    /**
     * Add the depedency's module to the source as a `require` call.
     *
     * @param dep The module dependency
     * @param source The source to be modified
     */
    apply(dep, source) {
        const content = dep.module
            ? `__webpack_require__(${JSON.stringify(dep.module.id)});`
            : webpackMissingModule.module(dep.request);
        const prefix = dep.variable ? `var ${dep.variable} = ` : '';
        source.insert(0, `${prefix}${content}\n`);
    }
};
//# sourceMappingURL=InjectedModuleDependency.js.map