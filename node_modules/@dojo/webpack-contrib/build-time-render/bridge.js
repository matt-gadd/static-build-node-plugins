import has from '@dojo/framework/has/has';

export default (...args) => {
	/** @preserve {{ REPLACE }} **/
	if (has('build-time-render') && window.__communicator) {
		return window.__communicator(modulePath, args);
	}
	else {
		const obj = window.__cache[modulePath][JSON.stringify(args)];
		return obj.async ? Promise.resolve(obj.value) : obj.value;
	}
}
