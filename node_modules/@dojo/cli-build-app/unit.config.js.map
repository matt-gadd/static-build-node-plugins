{"version":3,"file":"unit.config.js","sourceRoot":"","sources":["../../../src/unit.config.ts"],"names":[],"mappings":";;AAAA,2DAA2D;AAC3D,iCAAiC;AACjC,6BAA6B;AAE7B,yDAAuD;AAEvD,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC;AAE/B,uBAAuB,IAAS;IAC/B,MAAM,MAAM,GAAG,0BAAqB,CAAC,IAAI,CAAC,CAAC;IAC3C,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,CAAC;IACnC,MAAM,UAAU,GAAG,MAAO,CAAC,IAAc,CAAC;IAC1C,MAAM,CAAC,KAAK,GAAG,GAAG,EAAE;QACnB,MAAM,IAAI,GAAG,MAAM;aACjB,IAAI,CAAC,CAAC,GAAG,QAAQ,qBAAqB,CAAC,CAAC;aACxC,GAAG,CAAC,CAAC,QAAgB,EAAE,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC;QAE3D,MAAM,KAAK,GAAQ,EAAE,CAAC;QAEtB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACjB,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC;QAClB,CAAC;QAED,MAAM,CAAC,KAAK,CAAC;IACd,CAAC,CAAC;IACF,MAAM,CAAC,OAAO,GAAG;QAChB,GAAG,OAAQ;QACX,IAAI,kBAAkB,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;KACzF,CAAC;IACF,MAAM,CAAC,MAAM,qBACT,MAAM,IACT,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,EAAE,MAAM,CAAC,GAC3C,CAAC;IACF,MAAM,CAAC,MAAM,CAAC;AACf,CAAC;AAED,kBAAe,aAAa,CAAC","sourcesContent":["import * as CleanWebpackPlugin from 'clean-webpack-plugin';\nimport * as globby from 'globby';\nimport * as path from 'path';\nimport * as webpack from 'webpack';\nimport baseTestConfigFactory from './base.test.config';\n\nconst basePath = process.cwd();\n\nfunction webpackConfig(args: any): webpack.Configuration {\n\tconst config = baseTestConfigFactory(args);\n\tconst { output, plugins } = config;\n\tconst outputPath = output!.path as string;\n\tconfig.entry = () => {\n\t\tconst unit = globby\n\t\t\t.sync([`${basePath}/tests/unit/**/*.ts`])\n\t\t\t.map((filename: string) => filename.replace(/\\.ts$/, ''));\n\n\t\tconst tests: any = {};\n\n\t\tif (unit.length) {\n\t\t\ttests.all = unit;\n\t\t}\n\n\t\treturn tests;\n\t};\n\tconfig.plugins = [\n\t\t...plugins!,\n\t\tnew CleanWebpackPlugin(['unit'], { root: path.join(outputPath, 'test'), verbose: false })\n\t];\n\tconfig.output = {\n\t\t...output,\n\t\tpath: path.join(outputPath, 'test', 'unit')\n\t};\n\treturn config;\n}\n\nexport default webpackConfig;\n"]}